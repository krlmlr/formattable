<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to formattable package â€¢ formattable</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to formattable package">
<meta property="og:description" content="formattable">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">formattable</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/formattable-data-frame.html">Formattable data frame</a>
    </li>
    <li>
      <a href="../articles/introduction.html">Introduction to formattable package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/renkun-ken/formattable/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="introduction_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="introduction_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="introduction_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to formattable package</h1>
                        <h4 class="author">Kun Ren</h4>
            
            <h4 class="date">2020-10-31</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/renkun-ken/formattable/blob/master/vignettes/introduction.Rmd"><code>vignettes/introduction.Rmd</code></a></small>
      <div class="hidden name"><code>introduction.Rmd</code></div>

    </div>

    
    
<p>This package is designed for applying formatting on vectors and data frames to make data presentation easier, richer, more flexible and hopefully convey more information.</p>
<p>Atomic vectors are fundamental data structures in R. Some data can be read more easily with formatting. A numeric vector, for example, stores percentage numbers but is printed as typical floating numbers. This package provides functions to create data structures with predefined formatting rules so that these objects store the original data but are printed with formatting.</p>
<p>Several typical formattable numeric vectors are provided such as <code>percent</code>, <code>comma</code>, <code>currency</code>, <code>accounting</code> and <code>scientific</code>. These functions basically create numeric vectors with pre-defined formatting rules and parameters. For example,</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://renkun.me/formattable">formattable</a></span><span class="op">)</span>
<span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/percent.html">percent</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.02</span>, <span class="fl">0.03</span>, <span class="fl">0.12</span><span class="op">)</span><span class="op">)</span>
<span class="va">p</span></pre></div>
<pre><code>## [1] 10.00% 2.00%  3.00%  12.00%</code></pre>
<p>The percent vector is no different from a numeric vector but has a percentage representation when printed. It works with arithmetic operations and other common functions and preserves its formatting.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="va">p</span> <span class="op">+</span> <span class="fl">0.05</span></pre></div>
<pre><code>## [1] 15.00% 7.00%  8.00%  17.00%</code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="../reference/percent.html">percent</a></span><span class="op">(</span><span class="fl">0.02</span><span class="op">)</span></pre></div>
<pre><code>## [1] 12.00% 4.00%  5.00%  14.00%</code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="va">p</span> <span class="op">*</span> <span class="fl">1.1</span></pre></div>
<pre><code>## [1] 11.00% 2.20%  3.30%  13.20%</code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></pre></div>
<pre><code>## [1] 12.00%</code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></pre></div>
<pre><code>## [1] 6.75%</code></pre>
<p>It also works with subsetting and sub-assignment:</p>
<div class="sourceCode" id="cb13"><pre class="downlit">
<span class="va">p</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></pre></div>
<pre><code>## [1] 10.00% 2.00%  3.00%</code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit">
<span class="va">p</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></pre></div>
<pre><code>## [1] 2.00%</code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit">
<span class="va">p</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0.05</span>
<span class="va">p</span></pre></div>
<pre><code>## [1] 10.00% 2.00%  5.00%  12.00%</code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit">
<span class="va">balance</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/accounting.html">accounting</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">500</span>, <span class="fl">200</span>, <span class="op">-</span><span class="fl">150</span>, <span class="fl">0</span>, <span class="fl">1200</span><span class="op">)</span><span class="op">)</span>
<span class="va">balance</span></pre></div>
<pre><code>## [1] 1,000.00 500.00   200.00   (150.00) 0.00     1,200.00</code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit">
<span class="va">balance</span> <span class="op">+</span> <span class="fl">1000</span></pre></div>
<pre><code>## [1] 2,000.00 1,500.00 1,200.00 850.00   1,000.00 2,200.00</code></pre>
<p>These functions are specialized applications of what <code><a href="../reference/formattable.html">formattable()</a></code> is designed to do. <code><a href="../reference/formattable.html">formattable()</a></code> applies customizable formatting functions to objects of a wide range of classes like <code>numeric</code>, <code>logical</code>, <code>factor</code>, <code>Date</code>, <code>data.frame</code>, etc.</p>
<p>When applied to <code>Date</code>, <code><a href="../reference/formattable.html">formattable()</a></code> uses <code><a href="https://rdrr.io/r/base/as.Date.html">format.Date()</a></code> as the default formatter function. The following code creates a <code>formattable Date</code> vector that is printed in the format of <code>%Y%m%d</code>. However, it is not a plain integer or character vector but of <code>Date</code> class and still allows date calculations.</p>
<div class="sourceCode" id="cb23"><pre class="downlit">
<span class="va">dates</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2016-05-01"</span>, <span class="st">"2016-05-10"</span><span class="op">)</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"%Y%m%d"</span><span class="op">)</span>
<span class="va">dates</span></pre></div>
<pre><code>## [1] 20160501 20160510</code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit">
<span class="va">dates</span> <span class="op">+</span> <span class="fl">30</span></pre></div>
<pre><code>## [1] 20160531 20160609</code></pre>
<p>When applied to a logical vector, we can customize how <code>TRUE</code> and <code>FALSE</code> values are printed.</p>
<div class="sourceCode" id="cb27"><pre class="downlit">
<span class="va">lv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>, <span class="st">"yes"</span>, <span class="st">"no"</span><span class="op">)</span>
<span class="va">lv</span></pre></div>
<pre><code>## [1] yes no  no  yes</code></pre>
<div class="sourceCode" id="cb29"><pre class="downlit">
<span class="op">!</span><span class="va">lv</span></pre></div>
<pre><code>## [1] no  yes yes no</code></pre>
<p>Note that <code><a href="https://rdrr.io/r/base/Logic.html">isTRUE()</a></code> does not directly work with values of <code>lv</code> because <code><a href="https://rdrr.io/r/base/Logic.html">isTRUE()</a></code> uses <code><a href="https://rdrr.io/r/base/identical.html">identical(x, TRUE)</a></code> and <code>lv[[1]]</code>, as a formattable logical value is not identical to a plain <code>TRUE</code>.</p>
<div class="sourceCode" id="cb31"><pre class="downlit">
<span class="va">lv</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></pre></div>
<pre><code>## [1] yes</code></pre>
<div class="sourceCode" id="cb33"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/Logic.html">isTRUE</a></span><span class="op">(</span><span class="va">lv</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>If <code><a href="https://rdrr.io/r/base/Logic.html">isTRUE()</a></code> has to be applied, <code>lv == TRUE</code> returns a plain logical vector and works with <code><a href="https://rdrr.io/r/base/Logic.html">isTRUE()</a></code>. Other vectorized logical functions directly work with formattable logical vector with the formatting preserved.</p>
<div class="sourceCode" id="cb35"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">lv</span><span class="op">)</span></pre></div>
<pre><code>## [1] no</code></pre>
<div class="sourceCode" id="cb37"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">lv</span><span class="op">)</span></pre></div>
<pre><code>## [1] yes</code></pre>
<p>All formattable functions work with matrices and arrays.</p>
<div class="sourceCode" id="cb39"><pre class="downlit">
<span class="va">pm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">0.8</span>, <span class="fl">0.1</span><span class="op">)</span>, <span class="fl">2</span>, <span class="fl">3</span>, 
  dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="st">"Y"</span>, <span class="st">"Z"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="va">pm</span></pre></div>
<pre><code>##           X         Y         Z
## a 0.7439524 0.9558708 0.8129288
## b 0.7769823 0.8070508 0.9715065</code></pre>
<div class="sourceCode" id="cb41"><pre class="downlit">
<span class="va">fpm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/percent.html">percent</a></span><span class="op">(</span><span class="va">pm</span><span class="op">)</span>
<span class="va">fpm</span></pre></div>
<pre><code>##   X      Y      Z     
## a 74.40% 95.59% 81.29%
## b 77.70% 80.71% 97.15%</code></pre>
<div class="sourceCode" id="cb43"><pre class="downlit">
<span class="va">fpm</span><span class="op">[</span><span class="st">"a"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Y"</span>, <span class="st">"Z"</span><span class="op">)</span><span class="op">]</span></pre></div>
<pre><code>##      Y      Z 
## 95.59% 81.29%</code></pre>
<div class="sourceCode" id="cb45"><pre class="downlit">
<span class="va">pa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">12</span>, <span class="fl">0.8</span>, <span class="fl">0.1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="va">pa</span></pre></div>
<pre><code>## , , 1
## 
##           [,1]      [,2]      [,3]
## [1,] 0.8460916 0.7313147 0.9224082
## [2,] 0.6734939 0.7554338 0.8359814
## 
## , , 2
## 
##           [,1]      [,2]      [,3]
## [1,] 0.8400771 0.7444159 0.8497850
## [2,] 0.8110683 0.9786913 0.6033383</code></pre>
<div class="sourceCode" id="cb47"><pre class="downlit">
<span class="fu"><a href="../reference/percent.html">percent</a></span><span class="op">(</span><span class="va">pa</span><span class="op">)</span></pre></div>
<pre><code>## , , 1
## 
##      [,1]   [,2]   [,3]  
## [1,] 84.61% 73.13% 92.24%
## [2,] 67.35% 75.54% 83.60%
## 
## , , 2
## 
##      [,1]   [,2]   [,3]  
## [1,] 84.01% 74.44% 84.98%
## [2,] 81.11% 97.87% 60.33%</code></pre>
<p>When the formattable vectors are used as columns of a data frame, the formatting of each column is well preserved. A typical data frame may look more friendly with <code>formattable</code> column vectors. For example,</p>
<div class="sourceCode" id="cb49"><pre class="downlit">
<span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>, 
  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A1"</span>, <span class="st">"A2"</span>, <span class="st">"B1"</span>, <span class="st">"B2"</span>, <span class="st">"C1"</span><span class="op">)</span>,
  balance <span class="op">=</span> <span class="fu"><a href="../reference/accounting.html">accounting</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">52500</span>, <span class="fl">36150</span>, <span class="fl">25000</span>, <span class="fl">18300</span>, <span class="fl">7600</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"d"</span><span class="op">)</span>,
  growth <span class="op">=</span> <span class="fu"><a href="../reference/percent.html">percent</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.3</span>, <span class="fl">0.1</span>, <span class="fl">0.15</span>, <span class="fl">0.15</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"d"</span><span class="op">)</span>,
  ready <span class="op">=</span> <span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>, <span class="st">"yes"</span>, <span class="st">"no"</span><span class="op">)</span><span class="op">)</span>
<span class="va">p</span></pre></div>
<pre><code>##   id name balance growth ready
## 1  1   A1  52,500    30%   yes
## 2  2   A2  36,150    30%   yes
## 3  3   B1  25,000    10%    no
## 4  4   B2  18,300    15%    no
## 5  5   C1   7,600    15%   yes</code></pre>
<p>The subset of a data frame also preserves the formatting of each column:</p>
<div class="sourceCode" id="cb51"><pre class="downlit">
<span class="va">p</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"balance"</span>, <span class="st">"growth"</span><span class="op">)</span><span class="op">]</span></pre></div>
<pre><code>##   name balance growth
## 1   A1  52,500    30%
## 2   A2  36,150    30%
## 3   B1  25,000    10%</code></pre>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Kun Ren, Kenton Russell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
